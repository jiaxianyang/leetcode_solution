//ä¸€ä¸ªæœºå™¨äººä½äºä¸€ä¸ª
// m x n ç½‘æ ¼çš„å·¦ä¸Šè§’ ï¼ˆèµ·å§‹ç‚¹åœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º â€œStartâ€ ï¼‰ã€‚ 
//
// æœºå™¨äººæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚æœºå™¨äººè¯•å›¾è¾¾åˆ°ç½‘æ ¼çš„å³ä¸‹è§’ï¼ˆåœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º â€œFinishâ€ï¼‰ã€‚ 
//
// ç°åœ¨è€ƒè™‘ç½‘æ ¼ä¸­æœ‰éšœç¢ç‰©ã€‚é‚£ä¹ˆä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’å°†ä¼šæœ‰å¤šå°‘æ¡ä¸åŒçš„è·¯å¾„ï¼Ÿ 
//
// ç½‘æ ¼ä¸­çš„éšœç¢ç‰©å’Œç©ºä½ç½®åˆ†åˆ«ç”¨ 1 å’Œ 0 æ¥è¡¨ç¤ºã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
// 
// 
//è¾“å…¥ï¼šobstacleGrid = [[0,0,0],[0,1,0],[0,0,0]]
//è¾“å‡ºï¼š2
//è§£é‡Šï¼š3x3 ç½‘æ ¼çš„æ­£ä¸­é—´æœ‰ä¸€ä¸ªéšœç¢ç‰©ã€‚
//ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’ä¸€å…±æœ‰ 2 æ¡ä¸åŒçš„è·¯å¾„ï¼š
//1. å‘å³ -> å‘å³ -> å‘ä¸‹ -> å‘ä¸‹
//2. å‘ä¸‹ -> å‘ä¸‹ -> å‘å³ -> å‘å³
// 
//
// ç¤ºä¾‹ 2ï¼š 
// 
// 
//è¾“å…¥ï¼šobstacleGrid = [[0,1],[0,0]]
//è¾“å‡ºï¼š1
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// m == obstacleGrid.length 
// n == obstacleGrid[i].length 
// 1 <= m, n <= 100 
// obstacleGrid[i][j] ä¸º 0 æˆ– 1 
// 
//
// Related Topics æ•°ç»„ åŠ¨æ€è§„åˆ’ çŸ©é˜µ ğŸ‘ 1074 ğŸ‘ 0

package com.rj.leetcode_solution.leetcode.editor.cn;
//java:ä¸åŒè·¯å¾„ II
class P63UniquePathsIi{
    public static void main(String[] args){
        Solution solution = new P63UniquePathsIi().new Solution();
        int[][] obstacleGrid = {{0,0,0},{0,1,0},{0,0,0}};
        System.out.println(solution.uniquePathsWithObstacles(obstacleGrid));
    }
    //leetcode submit region begin(Prohibit modification and deletion)
class Solution {
    public int uniquePathsWithObstacles(int[][] obstacleGrid) {
        //1ã€æ–¹æ¡ˆ1
        //ä¸ªäººç†è§£è®¤ä¸ºæ›´å¥½ç†è§£ï¼š
/*        æ»šåŠ¨æ•°ç»„çš„ç†è§£
        é¦–å…ˆä»ç¬¬ä¸€è¡Œå¼€å§‹éå†,f[0]å·²ç»è¿›è¡Œåˆå§‹åŒ–,æƒ³åˆ°åˆ°è¾¾obstacleGrid[0][j]åªèƒ½å¤Ÿä»å·¦å¾€å³èµ°,ä¸Šé¢æ²¡æœ‰è·¯å¯ä»¥èµ°,javaæ•´å‹æ•°ç»„åˆå§‹åŒ–çš„æ—¶å€™é»˜è®¤å€¼æ˜¯é›¶,
                ä¹Ÿå°±æ˜¯è¯´f[j]çš„é»˜è®¤å€¼éƒ½æ˜¯é›¶,ç»è¿‡f[j] += f[j - 1] (æ­¤æ—¶i=0ä¹Ÿå°±æ˜¯åœ¨ç¬¬ä¸€è¡Œ)çš„ç¬¬ä¸€æ¬¡å¾ªç¯å®Œæˆåç¬¬ä¸€è¡Œçš„æ‰€æœ‰å€¼å°±å·²ç»ç¡®å®šäº†,æ²¡æœ‰éšœç¢ç‰©å°±æ˜¯å…¨ä¸º1,æœ‰éšœç¢ç‰©å°±æ˜¯ä¸º1æˆ–0ã€‚
        ç°åœ¨f[i]æ•°ç»„ä¸­ä¿å­˜çš„å€¼å°±æ˜¯ä»èµ·ç‚¹å‡ºå‘åˆ°ç¬¬ä¸€è¡Œç¬¬iä¸ªç½‘æ ¼æœ‰å¤šå°‘æ¡ä¸åŒçš„è·¯å¾„ã€‚ä¹‹åç»§ç»­å¾ªç¯ï¼Œå½“i=1ä¹Ÿå°±æ˜¯éå†åˆ°ç¬¬äºŒè¡Œï¼Œï¼ˆæ¯ä¸€è¡Œç¬¬ä¸€ä¸ªç½‘æ ¼çš„å€¼å¦‚æœæœ‰éšœç¢å°±å°†å…¶ç½®0ï¼Œ
        å¦‚æœæ— éšœç¢çš„è¯å€¼ä¸ä¸Šä¸€è¡Œçš„f[j]ä¿æŒä¸€è‡´ï¼Œä¸ç”¨å˜åŒ–ï¼‰ï¼Œç¬¬äºŒä¸ªç½‘æ ¼çš„å€¼è®¡ç®—æ–¹å¼ä¸ºä¸Šæ–¹çš„ç½‘æ ¼å€¼åŠ ä¸Šå·¦è¾¹ç½‘æ ¼çš„å€¼ï¼Œå·¦è¾¹ç½‘æ ¼å€¼å·²ç»ç¡®å®šï¼Œä¸ºf[j-1]ï¼Œ
        è€Œä¸Šæ–¹ç½‘æ ¼çš„å€¼å°±æ˜¯ä¸Šä¸€è½®å¾ªç¯ä¸­çš„f[j]ï¼Œä¸¤ä¸ªå€¼ç›¸åŠ å¾—åˆ°ç¬¬äºŒè¡Œç¬¬äºŒä¸ªç½‘æ ¼çš„å€¼å¹¶å°†f[j]ä¸­çš„æ•°æ®è¦†ç›–ï¼Œä¾æ¬¡å¾ªç¯å°†f[j]ä¸­çš„æ•°æ®å…¨éƒ¨æ›¿æ¢ï¼Œæ­¤æ—¶f[j]ä¸­å°±ä¿å­˜äº†ä»èµ·ç‚¹å‡ºå‘åˆ°ç¬¬äºŒè¡Œç¬¬jä¸ªç½‘æ ¼æœ‰å¤šå°‘æ¡ä¸åŒçš„è·¯å¾„ã€‚
        ç»§ç»­å¾ªç¯ç›´åˆ°å®Œæˆï¼Œæœ€åçš„ç»“æœå°±æ˜¯ä»èµ·ç‚¹åˆ°ç»ˆç‚¹æœ‰å¤šå°‘æ¡ä¸åŒçš„è·¯å¾„ã€‚*/
//        int n = obstacleGrid.length, m = obstacleGrid[0].length;
//        int[] f = new int[m];
//        f[0] = obstacleGrid[0][0] == 0 ? 1 : 0;
//        for (int i = 0; i < n; i++) {
//            for (int j = 0; j < m; j++) {
//                if (obstacleGrid[i][j] == 1) {
//                    f[j] = 0;
//                    continue;
//                }
//                if (j - 1 >= 0 && obstacleGrid[i][j] == 0) {
//                    f[j] += f[j - 1];
//                }
//            }
//        }
//        return f[m - 1];




        if (obstacleGrid == null || obstacleGrid.length == 0) {
            return 0;
        }
        //å®šä¹‰ dp æ•°ç»„å¹¶åˆå§‹åŒ–ç¬¬ 1 è¡Œå’Œç¬¬ 1 åˆ—
        int n = obstacleGrid.length, m = obstacleGrid[0].length;
        int[][] dp = new int[n][m];
        for (int i = 0; i < n && obstacleGrid[i][0] == 0; i++) {
            dp[i][0] = 1;
        }
        for (int j = 0; j < m && obstacleGrid[0][j] == 0; j++) {
            dp[0][j] = 1;
        }
        //æ ¹æ®çŠ¶æ€è½¬ç§»æ–¹ç¨‹ dp[i][j] = dp[i - 1][j] + dp[i][j - 1]è¿›è¡Œé€’æ¨
        for (int i = 1; i < n; i++) {
            for (int j = 1; j < m; j++) {
                if (obstacleGrid[i][j] == 0) {
                    dp[i][j] = dp[i - 1][j] + dp[i][j - 1];
                }
            }
        }
        return dp[n - 1][m - 1];
    }
}
//leetcode submit region end(Prohibit modification and deletion)

}
